{
  "steps" : [
    {
      "base" : {
        "steps" : [
          {
            "base" : {
              "steps" : [
                {
                  "meta" : {
                    "signalName" : "Create Withdrawal",
                    "operationName" : "Validate",
                    "error" : {
                      "name" : "Invalid Input"
                    }
                  },
                  "_type" : "HandleSignal"
                },
                {
                  "meta" : {
                    "name" : "Calculate Fees",
                    "error" : null,
                    "description" : null
                  },
                  "_type" : "RunIO"
                },
                {
                  "meta" : {
                    "name" : "Put Funds On Hold",
                    "error" : {
                      "name" : "Not Enough Funds"
                    },
                    "description" : null
                  },
                  "_type" : "RunIO"
                },
                {
                  "base" : {
                    "steps" : [
                      {
                        "meta" : {
                          "name" : null,
                          "error" : null
                        },
                        "_type" : "Pure"
                      },
                      {
                        "base" : {
                          "base" : {
                            "meta" : {
                              "name" : "Run Pending Checks",
                              "error" : null,
                              "description" : null
                            },
                            "_type" : "RunIO"
                          },
                          "onRestart" : {
                            "meta" : {
                              "duration" : "PT20S",
                              "releaseAt" : null,
                              "name" : "Await Retry"
                            },
                            "_type" : "Timer"
                          },
                          "meta" : {
                            "conditionName" : "All checks completed?",
                            "exitBranchName" : "Yes",
                            "restartBranchName" : "No"
                          },
                          "_type" : "Loop"
                        },
                        "trigger" : {
                          "meta" : {
                            "duration" : "PT2M",
                            "releaseAt" : null,
                            "name" : "Execution Timeout"
                          },
                          "_type" : "Timer"
                        },
                        "handler" : {
                          "meta" : {
                            "name" : "Put In Review",
                            "error" : null
                          },
                          "_type" : "Pure"
                        },
                        "_type" : "Interruptible"
                      },
                      {
                        "branches" : [
                          {
                            "meta" : {
                              "signalName" : "Review Decision",
                              "operationName" : null,
                              "error" : null
                            },
                            "_type" : "HandleSignal"
                          },
                          {
                            "meta" : {
                              "name" : "System Decision",
                              "error" : null
                            },
                            "_type" : "Pure"
                          }
                        ],
                        "meta" : {
                          "name" : "Requires review?",
                          "branches" : [
                            {
                              "name" : "Yes"
                            },
                            {
                              "name" : "No"
                            }
                          ]
                        },
                        "_type" : "Fork"
                      }
                    ],
                    "_type" : "Sequence"
                  },
                  "_type" : "Checkpoint"
                },
                {
                  "meta" : {
                    "name" : "Act On Decision",
                    "error" : {
                      "name" : "Rejected In Checks"
                    }
                  },
                  "_type" : "Pure"
                },
                {
                  "base" : {
                    "meta" : {
                      "name" : "Initiate Execution",
                      "error" : {
                        "name" : "Rejected By Execution Engine"
                      },
                      "description" : null
                    },
                    "_type" : "RunIO"
                  },
                  "_type" : "Retried"
                },
                {
                  "meta" : {
                    "signalName" : "Execution Completed",
                    "operationName" : null,
                    "error" : {
                      "name" : "Rejected By Execution Engine"
                    }
                  },
                  "_type" : "HandleSignal"
                }
              ],
              "_type" : "Sequence"
            },
            "trigger" : {
              "meta" : {
                "signalName" : "Cancel Withdrawal",
                "operationName" : null,
                "error" : {
                  "name" : "Cancelled"
                }
              },
              "_type" : "HandleSignal"
            },
            "handler" : null,
            "_type" : "Interruptible"
          },
          {
            "meta" : {
              "name" : "Release Funds",
              "error" : null,
              "description" : null
            },
            "_type" : "RunIO"
          }
        ],
        "_type" : "Sequence"
      },
      "handler" : {
        "meta" : {
          "name" : "Cancel Funds If Needed",
          "error" : null,
          "description" : null
        },
        "_type" : "RunIO"
      },
      "meta" : {
        "newErrorMeta" : null,
        "handledErrorMeta" : {
          "name" : "Withdrawal Rejection"
        }
      },
      "_type" : "HandleError"
    },
    {
      "_type" : "End"
    }
  ],
  "_type" : "Sequence"
}